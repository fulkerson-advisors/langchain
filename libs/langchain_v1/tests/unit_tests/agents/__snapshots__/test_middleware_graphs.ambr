# serializer version: 1
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2eafter_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_empty_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model --> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	MiddlewareA\2eafter_model --> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_empty_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_model_tools_False]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_empty_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_empty_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model --> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_empty_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model --> MiddlewareA\2eafter_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_end_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> __end__;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_model_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_middleware_graph_structure[A_before_tools_model_end_A_after_tools_model_end_B_before_tools_model_end_B_after_tools_tools_True]
  '''
  graph TD;
  	MiddlewareA\2eafter_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareA\2eafter_model -.-> __end__;
  	MiddlewareA\2eafter_model -.-> tools;
  	MiddlewareA\2ebefore_model -.-> MiddlewareB\2ebefore_model;
  	MiddlewareA\2ebefore_model -.-> __end__;
  	MiddlewareA\2ebefore_model -.-> tools;
  	MiddlewareB\2eafter_model -.-> MiddlewareA\2eafter_model;
  	MiddlewareB\2eafter_model -.-> tools;
  	MiddlewareB\2ebefore_model -.-> MiddlewareA\2ebefore_model;
  	MiddlewareB\2ebefore_model -.-> __end__;
  	MiddlewareB\2ebefore_model -.-> model_request;
  	MiddlewareB\2ebefore_model -.-> tools;
  	__start__ --> MiddlewareA\2ebefore_model;
  	model_request --> MiddlewareB\2eafter_model;
  	tools -.-> MiddlewareA\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_tool_registration_with_middleware[agent_tools_only]
  '''
  graph TD;
  	Middleware\2eafter_model -.-> Middleware\2ebefore_model;
  	Middleware\2eafter_model -.-> __end__;
  	Middleware\2eafter_model -.-> tools;
  	Middleware\2ebefore_model --> model_request;
  	__start__ --> Middleware\2ebefore_model;
  	model_request --> Middleware\2eafter_model;
  	tools -.-> Middleware\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_tool_registration_with_middleware[both_tools]
  '''
  graph TD;
  	Middleware\2eafter_model -.-> Middleware\2ebefore_model;
  	Middleware\2eafter_model -.-> __end__;
  	Middleware\2eafter_model -.-> tools;
  	Middleware\2ebefore_model --> model_request;
  	__start__ --> Middleware\2ebefore_model;
  	model_request --> Middleware\2eafter_model;
  	tools -.-> Middleware\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_tool_registration_with_middleware[middleware_tools_only]
  '''
  graph TD;
  	Middleware\2eafter_model -.-> Middleware\2ebefore_model;
  	Middleware\2eafter_model -.-> __end__;
  	Middleware\2eafter_model -.-> tools;
  	Middleware\2ebefore_model --> model_request;
  	__start__ --> Middleware\2ebefore_model;
  	model_request --> Middleware\2eafter_model;
  	tools -.-> Middleware\2ebefore_model;
  	tools -.-> __end__;
  
  '''
# ---
# name: test_tool_registration_with_middleware[no_tools]
  '''
  graph TD;
  	Middleware\2ebefore_model --> model_request;
  	__start__ --> Middleware\2ebefore_model;
  	model_request --> Middleware\2eafter_model;
  	Middleware\2eafter_model --> __end__;
  
  '''
# ---
